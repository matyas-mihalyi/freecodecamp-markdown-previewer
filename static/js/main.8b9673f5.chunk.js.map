{"version":3,"sources":["App.tsx","index.tsx"],"names":["DOMpurify","require","marked","setOptions","gfm","breaks","App","useState","input","setInput","dragging","setDragging","width","height","editorStyle","setEditorStyle","left","top","dragbarStyle","setDragbarStyle","previewStyle","setPreviewStyle","display","undoEnabled","setUndoEnabled","prevInput","setPrevInput","mobile","setMobile","useEffect","window","innerWidth","addEventListener","innerHeight","dragBarRef","React","useRef","editorRef","previewRef","downloadBtnRef","className","onMouseMove","e","percent","headerHeight","area","clientY","clientX","onTouchMove","touches","onMouseUp","onTouchEnd","onClick","style","title","downloadBtn","document","getElementById","blob","Blob","type","fileName","current","firstElementChild","innerHTML","replace","download","href","URL","createObjectURL","target","ref","id","onChange","event","value","spellCheck","dangerouslySetInnerHTML","__html","sanitize","onMouseDown","onTouchStart","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.8b9673f5.chunk.js","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\nimport { useState, useEffect } from 'react';\r\n\r\nconst DOMpurify = require('dompurify');\r\nconst marked = require(\"marked\");\r\nmarked.setOptions({\r\n  gfm: true,\r\n  breaks: true,\r\n});\r\n\r\nfunction App() {\r\n\r\n  const [input, setInput] = useState<any>(\"\");\r\n  const [dragging, setDragging] = useState<boolean>(false);\r\n  const [editorStyle, setEditorStyle] = useState({width:\"50%\", height:\"100%\"});\r\n  const [dragbarStyle, setDragbarStyle] = useState({left: \"calc(50% - 5px)\", top: \"6vh\", width: \"10px\", height: \"calc(100% - 6vh)\"});\r\n  const [previewStyle, setPreviewStyle] = useState({width: \"50%\", height:\"100%\", \"overflow-y\": \"auto\"});\r\n  const [undoEnabled, setUndoEnabled] = useState({display: \"none\"})\r\n  const [prevInput, setPrevInput] = useState<any>(\"\");\r\n  const [mobile, setMobile] = useState<boolean>(true);\r\n\r\n  useEffect(()=> {\r\n    if (window.innerWidth > 600) {\r\n      setMobile(false);\r\n    } else {\r\n      setMobile(true);\r\n    }\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n    function handleResize () {\r\n      if (window.innerWidth > 600) {\r\n        setMobile(false);\r\n      } else {\r\n        setMobile(true);\r\n      }\r\n    } \r\n    window.addEventListener('resize', handleResize);\r\n  });\r\n\r\n  useEffect(()=> {\r\n      if (mobile) {\r\n        setEditorStyle({width:\"100%\", height: `calc((${window.innerHeight}px - 6vh) / 2)`});\r\n        setPreviewStyle({width:\"100%\", height: `calc(${window.innerHeight}px - 6vh) / 2)`, \"overflow-y\": \"auto\"});\r\n        setDragbarStyle({left:\"0\", top: `calc(50% + 6vh - 20px)`, height: \"10px\", width: \"100%\"});\r\n      } else {\r\n        setEditorStyle({width:\"50%\", height:\"100%\"});\r\n        setPreviewStyle({width:\"50%\", height:\"100%\", \"overflow-y\": \"auto\"});\r\n        setDragbarStyle({left: \"calc(50% - 5px)\", top: \"6vh\", width: \"10px\", height: \"calc(100% - 6vh)\"});\r\n      }\r\n  }, [mobile])\r\n\r\n  function updateInput (event:any) {\r\n    setPrevInput(input);\r\n    setInput(event.target.value);\r\n  };\r\n\r\n  const dragBarRef = React.useRef<HTMLSpanElement>(null);\r\n  const editorRef = React.useRef<HTMLTextAreaElement>(null);\r\n  const previewRef = React.useRef<HTMLDivElement>(null);\r\n  const downloadBtnRef = React.useRef<HTMLAnchorElement>(null);\r\n\r\n  \r\n  const dragStart = (e:React.MouseEvent) => {\r\n    setDragging(true);\r\n  };\r\n\r\n  const dragStartTouch = (e:React.TouchEvent) => {\r\n    setDragging(true);\r\n  };\r\n\r\n  const dragMove = (e: React.MouseEvent) => {\r\n    //mobile\r\n    if (mobile) {\r\n      const percent = window.innerHeight / 100;\r\n      const headerHeight = percent * 6;\r\n      const area = window.innerHeight - headerHeight;\r\n      if (dragging && e.clientY > (percent * 21) && e.clientY < (percent * 85)) {\r\n        setEditorStyle({width:\"100%\", height: `${e.clientY - headerHeight}px`});\r\n        setPreviewStyle({width:\"100%\", height: `${area - e.clientY + headerHeight}px`, \"overflow-y\": \"hidden\"});\r\n        setDragbarStyle({left:\"0\", top: `calc(${e.clientY}px - 5px)`, height: \"10px\", width: \"100%\"});\r\n      };  \r\n      //desktop\r\n    } else {\r\n      const percent = window.innerWidth / 100;\r\n      if (dragging && e.clientX > (percent * 15) && e.clientX < (percent * 85)) {\r\n        setEditorStyle({width: `${(window.innerWidth - (window.innerWidth - e.clientX))/percent}%`, height: \"100%\"});\r\n        setPreviewStyle({width: `${(window.innerWidth - e.clientX)/percent}%`, height: \"100%\", \"overflow-y\": \"auto\"});\r\n        setDragbarStyle({left: `calc(${(window.innerWidth - (window.innerWidth - e.clientX))/percent}% - 5px)`, top: \"0px\", width: \"10px\", height: \"calc(100% - 6vh)\"});\r\n      };\r\n    };\r\n  };\r\n\r\n  const dragMoveTouch = (e:React.TouchEvent) => { \r\n    //mobile\r\n    if (mobile) {\r\n      const percent = window.innerHeight / 100;\r\n      const headerHeight = percent * 6;\r\n      const area = window.innerHeight - headerHeight;\r\n      if (dragging && e.touches[0].clientY > (percent * 15) && e.touches[0].clientY < (percent * 85)) {\r\n        setEditorStyle({width:\"100%\", height: `${e.touches[0].clientY - headerHeight}px`});\r\n        setPreviewStyle({width:\"100%\", height: `${area - e.touches[0].clientY + headerHeight}px`, \"overflow-y\": \"hidden\"});\r\n        setDragbarStyle({left:\"0\", top: `calc(${e.touches[0].clientY}px - 5px)`, height: \"10px\", width: \"100%\"});\r\n      };\r\n    \r\n    //desktop\r\n    } else {\r\n      const percent = window.innerWidth / 100;\r\n      if (dragging && e.touches[0].clientX > (percent * 15) && e.touches[0].clientX < (percent * 85)) {\r\n        setEditorStyle({width: `${(window.innerWidth - (window.innerWidth - e.touches[0].clientX))/percent}%`, height: \"100%\"});\r\n        setPreviewStyle({width: `${(window.innerWidth - e.touches[0].clientX)/percent}%`, height: \"100%\", \"overflow-y\": \"auto\"});\r\n        setDragbarStyle({left: `calc(${(window.innerWidth - (window.innerWidth - e.touches[0].clientX))/percent}% - 5px)`, top: \"0px\", width: \"10px\", height: \"calc(100% - 6vh)\"});\r\n      };\r\n    };\r\n  };\r\n\r\n  const dragEnd = (e:React.MouseEvent) => {\r\n    if (dragging) {\r\n      setDragging(false);\r\n      setPreviewStyle({width: `${previewStyle.width}`, height: `${previewStyle.height}`, \"overflow-y\": \"auto\"});\r\n    };\r\n  };\r\n\r\n  const dragEndTouch = (e:React.TouchEvent) => {\r\n    if (dragging) {\r\n      setDragging(false);\r\n      setPreviewStyle({width: `${previewStyle.width}`, height: `${previewStyle.height}`, \"overflow-y\": \"auto\"});\r\n    };\r\n  };\r\n\r\n  const placeholder = \r\n  `# Markdown Previewer\r\n## powered by markedjs\r\nThis is my submission for the second project of the [freeCodeCamp front end development libraries](https://www.freecodecamp.org/learn/front-end-development-libraries/) curriculum.\r\n\r\nYou can write code in the editor between 2 backticks: \\`<p>Hello World!</p>\\`\r\n\r\nYou can also write multi-line code between three backticks:\r\n\\`\\`\\`\r\nfunction sayHello(name) {\r\n  return \\`Hello \\${name}!\\`;\r\n}\r\n\\`\\`\\`\r\n\r\nYou can make text **bold** or _italic_.\r\n\r\nUse \\> for \r\n> blockquotes\r\n\r\nand \\* for\r\n* some\r\n* list \r\n* items\r\n\r\nYou can even include images \r\n![alt text](https://github.com/n48.png \"Logo Title\")\r\n`;\r\n\r\n  useEffect(() => {\r\n    setInput(placeholder)\r\n  }, []);\r\n\r\n  function downloadText () {\r\n    //credit to Maria Campbell https://stackoverflow.com/a/42864235\r\n    const downloadBtn:any = document.getElementById(\"download\")!;\r\n    const blob = new Blob([input], {type: 'text/plain'});\r\n    const fileName = `${previewRef.current?.firstElementChild?.innerHTML.replace(/[\\s\\n\\r]/g, \"_\")}.md`;\r\n    downloadBtn.download = fileName;\r\n    downloadBtn.href = window.URL.createObjectURL(blob);\r\n    downloadBtn.target = `_blank`;\r\n  };\r\n\r\n  function clearEditior () {\r\n    setPrevInput(input);\r\n    setUndoEnabled({display: \"block\"});\r\n    setInput(\"\");\r\n  };\r\n  \r\n  function undo () {\r\n    setInput(prevInput);\r\n    setUndoEnabled({display: \"none\"});\r\n  };\r\n\r\n \r\n\r\n  return (\r\n    <div className=\"App\" onMouseMove={dragMove} onTouchMove={dragMoveTouch} onMouseUp={dragEnd} onTouchEnd={dragEndTouch}>\r\n      <header>\r\n        <h1>Markdown Previewer</h1>\r\n        <nav>\r\n          <ul>\r\n            <li onClick={undo} style={undoEnabled} title=\"undo\">\r\n              <span className=\"material-icons-outlined\">undo</span>\r\n            </li>\r\n            <li onClick={clearEditior} title=\"clear editor\">\r\n              <span className=\"material-icons-outlined\">clear</span>\r\n            </li>\r\n            <li>\r\n              <a onClick={downloadText} ref={downloadBtnRef} id=\"download\" title=\"download md file\">\r\n              <span className=\"material-icons-outlined\">file_download</span>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </header>\r\n\r\n      <textarea id=\"editor\" onChange={updateInput} ref={editorRef} style={editorStyle} value={input} spellCheck=\"false\"/>\r\n\r\n      <div id=\"preview\" ref={previewRef} style={previewStyle} dangerouslySetInnerHTML={{__html: DOMpurify.sanitize(marked(input))}}></div>\r\n\r\n      <span id=\"dragbar\" ref={dragBarRef} onMouseDown={dragStart} onTouchStart={dragStartTouch} style={dragbarStyle}></span>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}